import{i as e,a as t,b as s,t as l,c as a}from"./index.2f01af17.js";import{V as r,P as n}from"./enum.7546f395.js";import{C as o,a as u}from"./c-table.42e2e343.js";import{_ as i}from"./user-link.vue_vue&type=script&setup=true&lang.c6852dd8.js";import{e as c,l as d,q as p,u as v,o as f,b as m,d as h,t as y,F as b,y as g,w as k,k as x,g as _}from"./vendor.cdf14165.js";import{_ as w}from"./cf-rating-color.vue_vue&type=script&setup=true&lang.11b3cbfe.js";const C=[{n:"Solashiro",h:"Solashiro",r:2260},{n:"czswez",h:"czswez",r:1934},{n:"MojeDes",h:"MojeDes",r:1860}],T=new Map(C.map((e=>[e.h,e.n]))),j=new Map(C.map((e=>[e.h,e.r])));function q(e){var t;return null!=(t=T.get(e))?t:e}function A(e){return j.get(e)}const M={class:"space-left"},N={key:1};var U=c({props:{author:{type:null,required:!0}},setup(t){const s=t,{author:l}=d(s),a=p((()=>{var e,t;return null!=(t=null==(e=null==l?void 0:l.value)?void 0:e.teamUrl)?t:""})),r=()=>{""!==a.value&&window.open(a.value,"_blank")};return(t,s)=>v(e)(v(l).teamName)?(f(),m(b,{key:0},[h("div",{class:""!==v(a)&&"cursor-pointer",onClick:r},y(v(l).teamName),3),h("div",M,[(f(!0),m(b,null,g(v(l).members,((e,t)=>(f(),m(i,{class:t>0&&"ml-2",key:e,name:e},null,8,["class","name"])))),128))])],64)):(f(),m("span",N,y(v(l).members[0]),1))}});const B={class:"space-left"},E={key:1};var z=c({props:{author:{type:null,required:!0}},setup:t=>(s,l)=>v(e)(t.author.teamName)?(f(),m(b,{key:0},[h(i,{name:t.author.teamName},null,8,["name"]),h("span",B,[(f(!0),m(b,null,g(t.author.members,((e,t)=>(f(),m("a",{key:t,class:"ml-2",href:`https://codeforces.com/profile/${e}`},[h(v(w),{rating:v(A)(e)},{default:k((()=>[x(y(e),1)])),_:2},1032,["rating"])],8,["href"])))),128))])],64)):(f(),m("span",E,y(t.author.members[0]),1))});const F=h("span",null,"+",-1),I={key:0},K={key:0,class:"text-sm text-gray-400"},O={key:1},D={class:"text-center font-bold text-red-500"},S=h("span",null,"-",-1);var $=c({props:{result:{type:null,required:!1},practice:{type:Boolean,required:!1}},setup(e){const t=e,{result:s}=d(t),l=p((()=>{var e,t;return null!=(t=null==(e=null==s?void 0:s.value)?void 0:e.submissionUrl)?t:""})),a=()=>{""!==l.value&&window.open(l.value,"_blank")};function n(e){const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return`${t}:${l=s,(l<10?"0":"")+l}`;var l}return(t,o)=>{var u;return v(s)?(f(),m(b,{key:0},[v(s).verdict===v(r).OK?(f(),m("div",{key:0,class:""!==v(l)&&"cursor-pointer",onClick:a},[h("div",{class:["text-center","font-bold",e.practice?"text-blue-500":"text-green-500"]},[F,v(s).dirty?(f(),m("span",I,y(v(s).dirty),1)):_("v-if",!0)],2),e.practice?_("v-if",!0):(f(),m("div",K,[h("span",null,y(n(v(s).relativeTime)),1)]))],2)):(f(),m("div",O,[h("div",D,[S,h("span",null,y(null!=(u=v(s).dirty)?u:1),1)])]))],2112)):_("v-if",!0)}}});const L={key:0,class:"mt-4 box"},P={key:0,class:"font-600"},R={key:1,class:"font-600"},V={key:0};var H=c({props:{contest:{type:null,required:!0}},setup(l){const a=l,{contest:i}=d(a),c=p((()=>i.value.type.startsWith("codeforces"))),x=e=>e.author.participantType===n.PRACTICE,w=e=>"string"==typeof e?e:String.fromCharCode(65+e),C=p((()=>{var e,t;return null!=(t=null==(e=i.value.problems)?void 0:e.sort(((e,t)=>("string"==typeof e.index?e.index.charCodeAt(0)-65:e.index)-("string"==typeof t.index?t.index.charCodeAt(0)-65:t.index))))?t:[]})),T=p((()=>{var e,t,l;if(s(i.value.problems))return{standings:[],firstBlood:[]};if(s(i.value.standings))return{standings:[],firstBlood:[]};const a=Array(null==(e=i.value.problems)?void 0:e.length);for(const n of i.value.standings){const e=Array(null==(t=i.value.problems)?void 0:t.length);for(const t of n.submissions){const o=t.problemIndex;if(t.verdict===r.OK&&!x(n))if(s(a[o]))a[o]=t;else{a[o].relativeTime>t.relativeTime&&(a[o]=t)}if(s(e[o]))e[o]=t;else{const s=e[o];(null!=(l=null==s?void 0:s.verdict)?l:r.FAILED)!==r.OK&&(e[o]=t)}}Reflect.set(n,"result",e)}return{standings:i.value.standings,firstBlood:a}}));return(s,l)=>v(i).standings?(f(),m("div",L,[h(v(o),{data:v(T).standings,mobile:1080},{columns:k((({row:s})=>[h(v(u),{label:"#",align:"center",width:"4em"},{default:k((()=>[x(s)?(f(),m("span",R,"-")):(f(),m("span",P,y(s.rank),1))])),_:2},1024),h(v(u),{label:v(c)?"Handle":""},{default:k((()=>[v(c)?(f(),m(z,{key:1,author:s.author},null,8,["author"])):(f(),m(U,{key:0,author:s.author},null,8,["author"]))])),_:2},1032,["label"]),h(v(u),{label:"解决",align:"center",width:"4em"},{default:k((()=>[h("span",null,y(s.solved),1)])),_:2},1024),h(v(u),{label:"罚时",align:"center",width:"4em"},{default:k((()=>[x(s)?_("v-if",!0):(f(),m("span",V,y(v(t)(s.penalty).value),1))])),_:2},1024),(f(!0),m(b,null,g(v(C),((t,l)=>{var a,n;return f(),m(v(u),{key:t.index,label:w(t.index),center:"",class:v(e)(s)&&v(e)(v(T).firstBlood[l])&&v(e)(s.result[l])&&s.result[l].verdict===v(r).OK&&s.result[l].relativeTime<=(null!=(n=null==(a=v(T).firstBlood[l])?void 0:a.relativeTime)?n:Number.MIN_VALUE)&&"bg-[#E0FFE4]"},{default:k((()=>[h($,{result:s.result[l],practice:x(s)},null,8,["result","practice"])])),_:2},1032,["label","class"])})),128))])),_:1},8,["data"])])):_("v-if",!0)}});const W={class:"mb-4"},G={class:"info-box border-left"},J={key:0};var Q=c({props:{contest:{type:null,required:!0}},setup:e=>(t,s)=>(f(),m("div",null,[h("h2",W,y(e.contest.name),1),h("div",G,[h("p",null," 时间："+y(v(l)(e.contest.startTime).value)+" 至 "+y(v(l)(e.contest.startTime+e.contest.duration).value),1),h("p",null,"时长："+y(v(a)(e.contest.duration).value),1),h("p",null,"人数："+y(e.contest.participantNumber)+" 人",1),e.contest.contestUrl||e.contest.standingsUrl?(f(),m("p",J,[h("a",{href:e.contest.contestUrl,target:"_blank"},"比赛主页",8,["href"]),h("a",{href:e.contest.standingsUrl,target:"_blank",class:"ml-2"},"完整榜单",8,["href"])])):_("v-if",!0)]),h(H,{contest:e.contest},null,8,["contest"])]))});export{Q as _,q as f,C as h};
