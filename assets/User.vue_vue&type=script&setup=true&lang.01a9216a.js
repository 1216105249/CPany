var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{V as s}from"./enum.7546f395.js";import{o as n,b as d,d as o,e as m,l as i,h as c,q as u,j as f,u as p,t as v,w as h,F as b,y as g,g as x,k as w}from"./vendor.cdf14165.js";import{_ as y,I as _,a as k,b as L}from"./c-stastic.vue_vue&type=script&setup=true&lang.26a7ea0c.js";import{C as j,a as M}from"./c-table.42e2e343.js";import{a as O,_ as C}from"./cf-rating-color.vue_vue&type=script&setup=true&lang.11b3cbfe.js";import{t as R}from"./index.2f01af17.js";const T={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},P=o("path",{d:"M21 7L9 19l-5.5-5.5l1.41-1.41L9 16.17L19.59 5.59L21 7z",fill:"currentColor"},null,-1);var U={name:"mdi-check",render:function(e,a){return n(),d("svg",T,[P])}};const q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},z=o("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z",fill:"currentColor"},null,-1);var A={name:"mdi-close",render:function(e,a){return n(),d("svg",q,[z])}};const B={key:0,class:"divide-y"},I={class:"mb-2"},K={class:"flex py-4 justify-between <md:flex-col-reverse"},Y={class:"w-full"},E={class:"info-box border-left pt-4 flex justify-around"},F={class:"\n            <md:mt-2\n            md:mt-4\n            grid\n            <md:grid-cols-1 <md: <md: <md: <md: <md: <md: <md: <md: <md: <md: <md: <md: <md:gap-2\n            md:grid-cols-2 md: md: md: md: md: md: md: md: md: md: md: md: md:gap-4\n          "},S={class:"font-600"},V=o("span",{class:"font-600"},"Contest rating: ",-1),$=o("span",{class:"font-600"},"Max rating: ",-1),D={key:0,class:"md:ml-4 md:max-w-1/3 <md:mb-2 <md:w-full <md:flex <md:justify-center"},G={class:"py-4"},H=o("h3",{class:"my-4 text-center"},"所有提交",-1),J=o("h3",{class:"my-4 text-center"},"所有比赛",-1);var N=m({props:{user:{type:null,required:!0}},setup(e){const m=e,{user:T}=i(m),P=c([]);for(const a of T.value.handles)if(void 0!==a.avatar&&null!==a.avatar&&""!==a.avatar){P.value.push(a.avatar);break}const q=u((()=>{if(0===P.value.length)return"";const e=Math.floor(Math.random()*P.value.length);return P.value[e]})),z=c([].concat(...T.value.handles.map((e=>e.submissions))).sort(((e,a)=>e.creationTime-a.creationTime)).map(((e,s)=>((e,s)=>{for(var n in s||(s={}))t.call(s,n)&&r(e,n,s[n]);if(a)for(var n of a(s))l.call(s,n)&&r(e,n,s[n]);return e})({index:s+1},e))).reverse()),N=c(T.value.contests),Q=T.value.handles.sort(((e,a)=>a.codeforces.rating-e.codeforces.rating));return(e,a)=>{const t=f("router-link");return p(T)?(n(),d("div",B,[o("h2",I,v(p(T).name),1),o("div",K,[o("div",Y,[o("div",E,[o(p(y),{title:"比赛"},{prefix:h((()=>[o(p(_),{class:"text-blue-400"})])),default:h((()=>[w(v(p(T).contests.length),1)])),_:1}),o(p(y),{title:"提交",class:"md:ml-4 <md:ml-2"},{prefix:h((()=>[o(p(k),{class:"text-yellow-400"})])),default:h((()=>[w(v(z.value.length),1)])),_:1}),o(p(y),{title:"通过",class:"md:ml-4 <md:ml-2"},{prefix:h((()=>[o(p(L),{class:"text-red-400"})])),default:h((()=>[w(v(z.value.filter((e=>e.verdict===p(s).OK)).length),1)])),_:1})]),o("div",F,[(n(!0),d(b,null,g(p(Q),((e,a)=>(n(),d("div",{key:a,class:"box <md:p-2"},[o("span",S,v((e.type,"Codeforces"))+": ",1),o(p(O),{handle:e},null,8,["handle"]),o("p",null,[V,o(p(C),{rank:e.codeforces.rank},{default:h((()=>[w(v(e.codeforces.rating),1)])),_:2},1032,["rank"])]),o("p",null,[$,o(p(C),{rank:e.codeforces.maxRank},{default:h((()=>[w(v(e.codeforces.maxRating),1)])),_:2},1032,["rank"])])])))),128))])]),null!==p(q)?(n(),d("div",D,[o("img",{src:p(q),alt:`${p(T).name}'s avatar`},null,8,["src","alt"])])):x("v-if",!0)]),o("div",G,[H,o(p(j),{data:z.value.slice(0,20)},{columns:h((({row:e})=>[o(p(M),{class:"font-600",label:"#",center:""},{default:h((()=>[o("span",null,v(e.index),1)])),_:2},1024),o(p(M),{label:"时间",center:""},{default:h((()=>[o("a",{href:e.submissionUrl,target:"_blank"},v(p(R)(e.creationTime).value),9,["href"])])),_:2},1024),o(p(M),{label:"题目","mobile-header-class":["min-w-8"]},{default:h((()=>[o("a",{href:e.problem.problemUrl,target:"_blank"},v(e.problem.id+" "+e.problem.name),9,["href"])])),_:2},1024),o(p(M),{label:"语言",center:""},{default:h((()=>[o("span",null,v(e.language),1)])),_:2},1024),o(p(M),{label:"结果",center:""},{default:h((()=>[e.verdict===p(s).OK?(n(),d(p(U),{key:0,class:"text-green-400"})):(n(),d(p(A),{key:1,class:"text-red-400"}))])),_:2},1024)])),_:1},8,["data"])]),o("div",null,[J,o(p(j),{data:N.value},{columns:h((({row:e,index:a})=>[o(p(M),{class:"font-600",label:"#",center:""},{default:h((()=>[o("span",null,v(a+1),1)])),_:2},1024),o(p(M),{label:"时间",center:""},{default:h((()=>[o("a",{href:e.contestUrl},v(p(R)(e.author.participantTime).value),9,["href"])])),_:2},1024),o(p(M),{label:"比赛","mobile-header-class":["min-w-8"]},{default:h((()=>[o(t,{to:e.path},{default:h((()=>[w(v(e.name),1)])),_:2},1032,["to"])])),_:2},1024)])),_:1},8,["data"])])])):x("v-if",!0)}}});export{N as _};
