var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{u as n}from"./users.85949298.js";import{a as s,C as o}from"./c-table.42e2e343.js";import{_ as i}from"./user-link.vue_vue&type=script&setup=true&lang.c6852dd8.js";import{_ as u}from"./cf-rating-color.vue_vue&type=script&setup=true&lang.11b3cbfe.js";import{b as c}from"./overview.8aaf9746.js";import{t as f,i as d}from"./index.2f01af17.js";import{e as g,h,q as m,o as v,b as p,d as b,w as _,u as C,t as y,k as w,g as k}from"./vendor.cdf14165.js";const j={class:"divide-y"},O=b("h2",{class:"mb-4"},"Codeforces",-1),S={class:"font-600"},D={key:0},T={class:"mt-4 pt-4"},x={class:"text-gray-400"};var A=g({setup(e){const g=h(c),A=e=>e.startsWith("codeforces"),P=e=>{const n=e.submissions.filter((({type:e})=>A(e))),s=n.length,o=n.filter((({v:e})=>1===e)).length,i=n.filter((({t:e})=>e>=g.value)).length,u=n.filter((({t:e,v:t})=>e>=g.value&&1===t)).length,c=e.contests.filter((({type:e,t:t})=>t>=g.value&&A(e))).length,f=n.filter((({t:e,v:t,d:a})=>e>=g.value&&1===t&&d(a))),h=f.reduce(((e,t)=>{var a;return e+(null!=(a=t.d)?a:0)}),0),m=Math.ceil(f.length>0?h/f.length:0),v=n.filter((({v:e})=>1===e)).sort(((e,t)=>t.t-e.t)),p=v.length>0?v[0].t:0,b=e.handles.filter((e=>A(e.type)));let _=b.length>0?b[0]:"";return((e,n)=>{for(var s in n||(n={}))a.call(n,s)&&l(e,s,n[s]);if(t)for(var s of t(n))r.call(n,s)&&l(e,s,n[s]);return e})({subCount:s,okCount:o,recentSubCount:i,recentOkCount:u,recentContest:c,recentDiffcult:h,recentAvgDiffcult:m,lastSolveTime:p,rating:b.reduce(((e,t)=>{const a=t;return a.codeforces.rating>e?(_=a.handle,a.codeforces.rating):e}),0),handle:_},e)},q=m((()=>n.map(P))),E=(e,t)=>e.rating-t.rating,H=(e,t)=>e.okCount-t.okCount,I=(e,t)=>e.recentOkCount-t.recentOkCount,M=(e,t)=>e.recentAvgDiffcult-t.recentAvgDiffcult,R=(e,t)=>e.contests.length-t.contests.length,W=(e,t)=>e.recentContest-t.recentContest,$=(e,t)=>e.lastSolveTime-t.lastSolveTime;return(e,t)=>(v(),p("div",j,[O,b(C(o),{data:C(q),"default-sort":"最近通过","default-sort-order":"desc"},{columns:_((({index:e,row:t})=>[b(C(s),{label:"#",width:"3em",align:"center"},{default:_((()=>[b("span",S,y(e+1),1)])),_:2},1024),b(C(s),{label:"姓名"},{default:_((()=>[b(i,{name:t.name},null,8,["name"])])),_:2},1024),b(C(s),{label:"Handle"},{default:_((()=>[b("a",{href:`https://codeforces.com/profile/${t.handle}`,target:"_blank"},[b(C(u),{rating:t.rating},{default:_((()=>[w(y(t.handle),1)])),_:2},1032,["rating"])],8,["href"])])),_:2},1024),b(C(s),{label:"Rating",sort:E,align:"right"},{default:_((()=>[b(C(u),{rating:t.rating},{default:_((()=>[w(y(t.rating),1)])),_:2},1032,["rating"])])),_:2},1024),b(C(s),{label:"最近通过",width:"7em",align:"right",sort:I},{default:_((()=>[w(y(t.recentOkCount),1)])),_:2},1024),b(C(s),{label:"最近平均难度",width:"10em",align:"right",sort:M},{default:_((()=>[w(y(t.recentAvgDiffcult),1)])),_:2},1024),b(C(s),{label:"最近比赛",width:"7em",align:"right",sort:W},{default:_((()=>[w(y(t.recentContest),1)])),_:2},1024),b(C(s),{label:"最新通过",width:"10em",align:"center",sort:$},{default:_((()=>[t.lastSolveTime>0?(v(),p("span",D,y(C(f)(t.lastSolveTime).value),1)):k("v-if",!0)])),_:2},1024),b(C(s),{label:"通过",width:"6em",align:"right",sort:H},{default:_((()=>[w(y(t.okCount),1)])),_:2},1024),b(C(s),{label:"比赛场次",width:"7em",align:"right",sort:R},{default:_((()=>[w(y(t.contests.length),1)])),_:2},1024)])),_:1},8,["data"]),b("div",T,[b("span",x,"最近开始于 "+y(C(f)(g.value).value),1)])]))}});export default A;
