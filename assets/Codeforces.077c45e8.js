import{P as e,V as t}from"./enum.7546f395.js";import{i as s,e as a,s as r,h as n,x as o,o as i,b as p,d as c,g as l}from"./vendor.cdf14165.js";import"./index.2f01af17.js";import{c as m}from"./codeforces.f8fde631.js";import{_ as u,h as d,f}from"./Contest.vue_vue&type=script&setup=true&lang.71b6d332.js";import"./c-table.42e2e343.js";import"./user-link.vue_vue&type=script&setup=true&lang.c6852dd8.js";import"./cf-rating-color.vue_vue&type=script&setup=true&lang.11b3cbfe.js";const b=m,v=new Map;for(const h of b)h.type.startsWith("codeforces")&&v.set(h.id,h);const y={key:0};var T=a({setup(a){const m=r(),b=n(null),{start:T,end:h}=function(){const e=s("loading");return{start(){e.value=!0},end(){e.value=!1}}}();return o((()=>m.params),(s=>{if(s.id){const n=(a=+s.id,null!=(r=v.get(+a))?r:null);null!==n&&(b.value=n,(async s=>{var a,r;T();const n=new URL("https://codeforces.com/api/contest.standings");n.searchParams.append("contestId",""+s.id),n.searchParams.append("handles",d.map((({h:e})=>e)).join(";")),n.searchParams.append("showUnofficial","true");const{result:o}=await(await fetch(n.toString())).json();s.problems=o.problems;for(const e of o.problems)e.problemUrl=`https://codeforces.com/contest/${e.contestId}/problem/${e.index}`;s.standings=[];for(const i of o.rows){if(i.party.participantType!==e.CONTESTANT&&i.party.participantType!==e.VIRTUAL&&i.party.participantType!==e.PRACTICE)continue;const n=i.problemResults.reduce(((e,t)=>{var s,a;return 0===t.points?e:e+(null!=(s=t.bestSubmissionTimeSeconds)?s:0)+20*(null!=(a=t.rejectedAttemptCount)?a:0)}),0),o=null!=(a=i.party.participantTime)?a:s.startTime;s.standings.push({author:{members:i.party.members.map((e=>e.handle)),teamName:null!=(r=i.party.teamName)?r:f(i.party.members[0].handle),participantTime:o,participantType:i.party.participantType},rank:i.rank,solved:i.problemResults.filter((e=>e.points>0)).length,penalty:n,submissions:i.problemResults.map(((e,s)=>{const a=e.bestSubmissionTimeSeconds+o,r=e.bestSubmissionTimeSeconds;return e.points>0?{id:-1,creationTime:a,relativeTime:r,problemIndex:s,verdict:t.OK,dirty:e.rejectedAttemptCount}:e.rejectedAttemptCount>0?{id:-1,creationTime:a,relativeTime:r,problemIndex:s,dirty:e.rejectedAttemptCount}:null})).filter((e=>null!==e))})}h()})(b.value),document.title=`${n.name} - CPany`)}var a,r}),{immediate:!0}),(e,t)=>(i(),p("div",null,[b.value?(i(),p("div",y,[c(u,{contest:b.value},null,8,["contest"])])):l("v-if",!0)]))}});export default T;
