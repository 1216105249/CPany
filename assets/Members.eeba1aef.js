var t=Object.defineProperty,e=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(e,s,a)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a;import{u as o}from"./users.85949298.js";import{a as r,C as n}from"./c-table.42e2e343.js";import{_ as i}from"./user-link.vue_vue&type=script&setup=true&lang.c6852dd8.js";import{b as u}from"./overview.8aaf9746.js";import{t as m}from"./index.2f01af17.js";import{e as c,h as d,q as b,o as f,b as g,d as h,w as v,u as p,t as C,k,g as w}from"./vendor.cdf14165.js";const _={class:"divide-y"},y=h("h2",{class:"mb-4"},"成员",-1),j={class:"font-600"},O={key:0},S={class:"mt-4 pt-4"},x={class:"text-gray-400"};var T=c({setup(t){const c=d(u),T=t=>{const o=t.submissions.length,r=t.submissions.filter((({v:t})=>0!==t)).length,n=(0!==o?(100*r/o).toFixed(1):"0.0")+" %",i=t.submissions.filter((({t:t})=>t>=c.value)).length,u=t.submissions.filter((({t:t,v:e})=>t>=c.value&&0!==e)).length,m=t.contests.filter((({t:t})=>t>=c.value)).length,d=t.submissions.filter((({v:t})=>1===t)).sort(((t,e)=>e.t-t.t));return((t,o)=>{for(var r in o||(o={}))s.call(o,r)&&l(t,r,o[r]);if(e)for(var r of e(o))a.call(o,r)&&l(t,r,o[r]);return t})({subCount:o,okCount:r,okRate:n,recentSubCount:i,recentOkCount:u,recentContest:m,lastSolveTime:d.length>0?d[0].t:0},t)},R=b((()=>o.map(T))),F=(t,e)=>t.subCount-e.subCount,P=(t,e)=>t.okCount-e.okCount,N=(t,e)=>t.recentSubCount-e.recentSubCount,q=(t,e)=>t.recentOkCount-e.recentOkCount,E=(t,e)=>Number.parseFloat(t.okRate)-Number.parseFloat(e.okRate),I=(t,e)=>t.contests.length-e.contests.length,z=(t,e)=>t.recentContest-e.recentContest,A=(t,e)=>t.lastSolveTime-e.lastSolveTime;return(t,e)=>(f(),g("div",_,[y,h(p(n),{data:p(R),"default-sort":"最近通过","default-sort-order":"desc"},{columns:v((({index:t,row:e})=>[h(p(r),{label:"#",width:"3em",align:"center"},{default:v((()=>[h("span",j,C(t+1),1)])),_:2},1024),h(p(r),{label:"姓名"},{default:v((()=>[h(i,{name:e.name},null,8,["name"])])),_:2},1024),h(p(r),{label:"最近通过",width:"7em",align:"right",sort:q},{default:v((()=>[k(C(e.recentOkCount),1)])),_:2},1024),h(p(r),{label:"最近提交",width:"7em",align:"right",sort:N},{default:v((()=>[k(C(e.recentSubCount),1)])),_:2},1024),h(p(r),{label:"最近比赛",width:"7em",align:"right",sort:z},{default:v((()=>[k(C(e.recentContest),1)])),_:2},1024),h(p(r),{label:"最新通过",width:"10em",align:"center",sort:A},{default:v((()=>[e.lastSolveTime>0?(f(),g("span",O,C(p(m)(e.lastSolveTime).value),1)):w("v-if",!0)])),_:2},1024),h(p(r),{label:"通过",width:"6em",align:"right",sort:P},{default:v((()=>[k(C(e.okCount),1)])),_:2},1024),h(p(r),{label:"提交",width:"6em",align:"right",sort:F},{default:v((()=>[k(C(e.subCount),1)])),_:2},1024),h(p(r),{label:"通过率",width:"6em",align:"right",sort:E},{default:v((()=>[k(C(e.okRate),1)])),_:2},1024),h(p(r),{label:"比赛场次",width:"7em",align:"right",sort:I},{default:v((()=>[k(C(e.contests.length),1)])),_:2},1024)])),_:1},8,["data"]),h("div",S,[h("span",x,"最近开始于 "+C(p(m)(c.value).value),1)])]))}});export default T;
