import{o as e,b as l,d as r,e as t,l as n,n as o,p as s,h as a,q as i,u,F as d,j as p}from"./vendor.cdf14165.js";import{i as c}from"./index.2f01af17.js";const v={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},f=r("path",{d:"M11 4h2v12l5.5-5.5l1.42 1.42L12 19.84l-7.92-7.92L5.5 10.5L11 16V4z",fill:"currentColor"},null,-1);var m={name:"mdi-arrow-down",render:function(r,t){return e(),l("svg",v,[f])}};const w={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},b=r("path",{d:"M13 20h-2V8l-5.5 5.5l-1.42-1.42L12 4.16l7.92 7.92l-1.42 1.42L13 8v12z",fill:"currentColor"},null,-1);var h={name:"mdi-arrow-up",render:function(r,t){return e(),l("svg",w,[b])}},x=t({name:"CTableColumn",props:{label:String,width:{type:[Number,String]},align:String,center:{type:Boolean,default:!1},sort:Function,mobileHeaderClass:{type:Array,default:[]}},setup(e,{slots:l}){const{align:r,center:t}=n(e),s=["px-3","py-2","center"===r.value||t.value?"text-center":"right"===r.value?"text-right":"text-left"];return()=>o("td",{class:s},l.default&&l.default(e))}});var y=t({name:"CTable",components:{IconDown:m,IconUp:h},props:{data:{type:Array,default:[]},mobile:{type:Number,default:768},defaultSort:{type:String},defaultSortOrder:{type:String,default:"asc"}},setup(e,{slots:l}){const{data:r,defaultSort:t,defaultSortOrder:v,mobile:f}=n(e),{isMobile:m,clean:w}=function(e){const l=a(window.innerWidth),r=a(l.value<=u(e)),t=()=>{l.value=window.innerWidth,r.value=l.value<=u(e)};return window.addEventListener("resize",t,{passive:!0}),{width:l,isMobile:r,clean:()=>window.removeEventListener("resize",t)}}(f);s((()=>w()));const b=a(t.value),h=a(v.value),y=e=>{if(!e)return[];const l=[];for(const r of e)if(r.type===d&&Array.isArray(r.children))for(const e of r.children)null===e||"object"!=typeof e||Array.isArray(e)||l.push(e);else l.push(r);return l.filter((e=>e.type===x))},g=y(l.columns?l.columns({}):[]),j=i((()=>(e=>{var l,r,t;if(c(b.value)){for(const n of g){if((null!=(r=null==(l=n.props)?void 0:l.label)?r:"")===b.value){const l=e.sort(null==(t=n.props)?void 0:t.sort);return"desc"===h.value?l.reverse():l}}return e}return e})(r.value))),S=()=>{return o("table",{class:["table","w-full","border-separate","table-auto","rounded"]},[o("thead",{},o("tr",{},g.map((e=>{var l,r,t,n,s,a,i,u,d;const f=c(null==(l=e.props)?void 0:l.sort),m=f&&(null!=(t=null==(r=e.props)?void 0:r.label)?t:"")===b.value,w={width:null==(n=e.props)?void 0:n.width,borderWidth:"0 0 2px 0"},x="center"===(null==(s=e.props)?void 0:s.align)||c(null==(a=e.props)?void 0:a.center)&&!1!==(null==(i=e.props)?void 0:i.center)?"justify-center":"right"===(null==(u=e.props)?void 0:u.align)?"justify-end":"justify-start";return o("th",{style:w,class:["select-none","font-600","px-3","py-2","border-solid",m?"border-[#7a7a7a]":"border-[#dbdbdb]",f?"cursor-pointer":null,f?"hover:border-[#7a7a7a]":null]},o("div",{class:["flex","items-center",x],onClick:f?()=>{var l,r,t;m?"desc"===h.value?h.value="asc":h.value="desc":(t=null!=(r=null==(l=e.props)?void 0:l.label)?r:"",b.value=t,h.value=v.value)}:void 0},[f?o("desc"===h.value?p("icon-down"):p("icon-up"),{class:[!m&&"text-transparent"]}):"",o("span",{},null==(d=e.props)?void 0:d.label)]))})))),o("tbody",{},(e=j.value,e.map(((e,r)=>o("tr",{},l.columns&&y(l.columns({row:e,index:r}))))))),o("tfoot",{},[])]);var e};return()=>m.value?o("div",{class:["mobile-table"]},j.value.map(((e,r)=>{const t=y(l.columns&&l.columns({row:e,index:r,mobile:!0}));return o("div",{class:["box","p-0","mb-4"]},t.map((e=>{var l,r;const t=null!=(l=e.props&&e.props["mobile-header-class"])?l:[];return o("div",{class:["pl-3","border","flex","flex-shrink","justify-between","justify-items-stretch"]},[o("div",{class:["py-2","font-600","text-left","flex","items-center",...t]},null==(r=e.props)?void 0:r.label),o(e,{class:["block"]})])})))}))):S()}});export{y as C,x as a};
